---
trigger: glob
globs: *.ts,*tsx
---

# TypeScript コーディングルール

## 一般的なコードスタイル & フォーマット

- すべてのコードとドキュメントには英語を使用する
- 各変数と関数の型を必ず宣言する（パラメーターと戻り値）
- `any`の使用を避ける
- 必要な型を作成する
- パブリッククラスとメソッドには`JSDoc`を使用してドキュメント化する
- 関数内に空行を残さない
- ファイルごとに 1 つのエクスポート

## 命名規則

- クラスには`PascalCase`を使用する
- 変数、関数、メソッドには`camelCase`を使用する
- ファイルとディレクトリ名には`kebab-case`を使用する
- 環境変数には`UPPERCASE`を使用する
- マジックナンバーを避け、定数を定義する

## 関数 & ロジック

- 関数は短く、単一目的に保つ（20 行未満）
- 以下の方法で深いネストブロックを避ける：
- 早期リターンを使用する
- ロジックをユーティリティ関数に抽出する
- ロジックを簡潔にするために高階関数（`map`、`filter`、`reduce`）を使用する
- 単純な場合（3 つ未満の命令）はアロー関数、それ以外は名前付き関数を使用する
- `null`/`undefined`チェックの代わりにデフォルトパラメーター値を使用する
- 複数のパラメーターの受け渡しと戻り値には`RO-RO`（Receive Object, Return Object）を使用する

## データ処理

- プリミティブ型の過度な使用を避け、データを複合型にカプセル化する
- 関数内に検証を配置せず、内部検証を持つクラスを使用する
- データの不変性を優先する：
- 不変プロパティには`readonly`を使用する
- 変更されないリテラルには`as const`を使用する
