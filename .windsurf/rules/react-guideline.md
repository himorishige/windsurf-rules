---
trigger: model_decision
description: React In-Development Reference
---

## React 19 Guideline

### 非同期処理と Suspense の活用

React 19 では、非同期処理の管理が大幅に改善されました。とくに `Actions` の導入により、フォーム送信やデータ変更などの非同期処理をより宣言的に記述できるようになります。

- **`Actions` の利用 (フォーム送信、データ変更)**:

  - フォームの `action` プロパティに直接非同期関数を渡すことで、送信中の状態管理、エラーハンドリング、楽観的更新などを React が自動的に処理します。
  - `useFormStatus` や `useFormState` といった新しいフックと組み合わせて使用することで、より高度な UI インタラクションを実現できます。

- **`useTransition` と非同期処理**:

  - `useTransition` は、UI の応答性を保ちながら状態更新を非同期的に行うためのフックです。React 19 では、`startTransition` に渡すコールバック関数が非同期関数を受け入れられるようになりました。
  - これにより、データフェッチなどの時間のかかる処理をバックグラウンドで行い、UI のフリーズを防ぎます。

- **`Suspense` を用いた UI の最適化**:
  - `Suspense` は、コンポーネントがデータをロードする間、フォールバック UI を表示するためのコンポーネントです。React 19 では、`Suspense` と `Actions` や非同期処理がより密接に連携し、データ取得中の UI をシームレスに管理できます。
  - これにより、ユーザー体験を向上させ、ローディング状態の管理ロジックを簡素化します。

### データフェッチの最適化

- **`use API` の活用**:

  - React 19 で導入された `use API` は、サーバーコンポーネントから直接データをフェッチするための新しいフックです。これにより、クライアントサイドでの `useEffect` を用いたデータフェッチを削減し、サーバーサイドでのデータ取得を最適化します。
  - `use API` は、自動的なキャッシュと再検証のメカニズムを提供し、データフェッチのパフォーマンスと開発体験を向上させます。

- **`useEffect` の最小限の使用**:
  - `useEffect` は、副作用を管理するための強力なフックですが、不適切に使用するとパフォーマンスの問題や複雑なコードにつながることがあります。React 19 の新しい機能（`Actions`, `use API`, `Suspense` など）を活用することで、データフェッチや DOM 操作などの多くの副作用をより宣言的に処理できるようになり、`useEffect` の使用を最小限に抑えることができます。
  - `useEffect` は、クライアントサイドでの DOM 操作や外部ライブラリとの連携など、真に副作用が必要な場合にのみ使用することを推奨します。

### その他の新機能の活用

- **`useOptimistic`**:

  - `useOptimistic` は、非同期処理の結果を待たずに UI を即座に更新し、後から実際のデータで UI を調整するためのフックです。これにより、ユーザーは操作が即座に反映されたように感じ、アプリケーションの応答性が向上します。
  - ネットワーク遅延による UI の遅延を軽減し、よりスムーズなユーザー体験を提供します。

- **リソースの読み込みとメタデータ**:
  - React 19 では、`<link>`, `<script>`, `<meta>` などのリソースタグの管理が改善されました。これにより、リソースのプリロードやメタデータの動的な設定がより簡単になり、ページの読み込みパフォーマンスと SEO が向上します。

### React 19 の主要な変更点の要約

- **React 19**: `Actions`、`use API`、`useOptimistic`、`Suspense` の強化により、非同期処理とデータフェッチの管理が大幅に簡素化され、`useEffect` の使用を最小限に抑えることが推奨されます。

### 推奨事項

- **積極的な新機能の採用**: React 19 で導入された新しい API や概念を積極的に学習し、既存のコードベースに適用することを検討してください。
- **非同期処理の理解**: `Actions` や非同期リクエスト API など、非同期処理の新しいパラダイムを深く理解し、適切に実装することで、アプリケーションの応答性を最大化できます。
- **継続的な学習**: Web 開発の分野は進化が速いため、React 19 の公式ドキュメントやコミュニティの情報を定期的にチェックし、常に最新のベストプラクティスを取り入れるように努めてください。
